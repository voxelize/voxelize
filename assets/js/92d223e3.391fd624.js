"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7749],{43023:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(63696);const l={},s=i.createContext(l);function a(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},75035:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"intermediate/custom-blocks","title":"Custom Blocks","description":"Beyond basic blocks, Voxelize supports advanced block configurations including rotations, transparency, custom shapes, and dynamic behaviors.","source":"@site/docs/tutorials/intermediate/12-custom-blocks.md","sourceDirName":"intermediate","slug":"/intermediate/custom-blocks","permalink":"/tutorials/intermediate/custom-blocks","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"sidebar_position":12},"sidebar":"tutorialSidebar","previous":{"title":"Protocol Networking","permalink":"/tutorials/intermediate/protocol-networking"},"next":{"title":"TypeScript Transport","permalink":"/tutorials/intermediate/typescript-transport"}}');var l=t(62540),s=t(43023);const a={sidebar_position:12},r="Custom Blocks",o={},c=[{value:"Block Properties",id:"block-properties",level:2},{value:"Basic Properties",id:"basic-properties",level:3},{value:"Transparency",id:"transparency",level:3},{value:"Light-Emitting Blocks",id:"light-emitting-blocks",level:3},{value:"Block Rotation",id:"block-rotation",level:2},{value:"Y-Axis Rotation",id:"y-axis-rotation",level:3},{value:"6-Face Rotation",id:"6-face-rotation",level:3},{value:"Custom Shapes",id:"custom-shapes",level:2},{value:"AABB Shapes",id:"aabb-shapes",level:3},{value:"Multiple AABBs",id:"multiple-aabbs",level:3},{value:"Block Texturing",id:"block-texturing",level:2},{value:"Server-Side Texture Names",id:"server-side-texture-names",level:3},{value:"Client-Side Texturing",id:"client-side-texturing",level:3},{value:"Block Entities",id:"block-entities",level:2},{value:"Dynamic Blocks",id:"dynamic-blocks",level:2},{value:"Active Blocks",id:"active-blocks",level:3},{value:"Client-Side Customization",id:"client-side-customization",level:2},{value:"Custom Shaders",id:"custom-shaders",level:3},{value:"Dynamic Textures",id:"dynamic-textures",level:3},{value:"Example: Slab Variants",id:"example-slab-variants",level:2},{value:"Example: Door Block",id:"example-door-block",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"custom-blocks",children:"Custom Blocks"})}),"\n",(0,l.jsx)(n.p,{children:"Beyond basic blocks, Voxelize supports advanced block configurations including rotations, transparency, custom shapes, and dynamic behaviors."}),"\n",(0,l.jsx)(n.h2,{id:"block-properties",children:"Block Properties"}),"\n",(0,l.jsx)(n.h3,{id:"basic-properties",children:"Basic Properties"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Block Properties"',children:'let block = Block::new("My Block")\n    .id(100)\n    .is_solid(true)           // Collision enabled\n    .is_transparent(false)    // Renders back faces\n    .is_passable(false)       // Entities can\'t walk through\n    .is_fluid(false)          // Water-like behavior\n    .is_light(false)          // Emits light\n    .light_level(0)           // Light emission level (0-15)\n    .build();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"transparency",children:"Transparency"}),"\n",(0,l.jsx)(n.p,{children:"For transparent blocks like glass:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Transparent Block"',children:'let glass = Block::new("Glass")\n    .id(10)\n    .is_transparent(true)\n    .is_see_through(true)     // Can see through for lighting\n    .build();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"light-emitting-blocks",children:"Light-Emitting Blocks"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Light Source"',children:'let torch = Block::new("Torch")\n    .id(20)\n    .is_light(true)\n    .light_level(14)          // Max is 15\n    .is_transparent(true)\n    .is_solid(false)\n    .build();\n'})}),"\n",(0,l.jsx)(n.h2,{id:"block-rotation",children:"Block Rotation"}),"\n",(0,l.jsx)(n.h3,{id:"y-axis-rotation",children:"Y-Axis Rotation"}),"\n",(0,l.jsx)(n.p,{children:"Blocks can rotate on the Y axis:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Y-Rotatable Block"',children:'let furnace = Block::new("Furnace")\n    .id(30)\n    .rotatable(true)\n    .y_rotatable(true)\n    .build();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"6-face-rotation",children:"6-Face Rotation"}),"\n",(0,l.jsx)(n.p,{children:"Blocks that can face any direction:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="6-Face Rotation"',children:'let piston = Block::new("Piston")\n    .id(31)\n    .rotatable(true)\n    .y_rotatable(true)\n    .build();\n'})}),"\n",(0,l.jsx)(n.h2,{id:"custom-shapes",children:"Custom Shapes"}),"\n",(0,l.jsx)(n.h3,{id:"aabb-shapes",children:"AABB Shapes"}),"\n",(0,l.jsx)(n.p,{children:"Define custom collision boxes:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Custom AABB"',children:'let slab = Block::new("Stone Slab")\n    .id(40)\n    .aabbs(&[AABB::new()\n        .scale_y(0.5)\n        .build()])\n    .build();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"multiple-aabbs",children:"Multiple AABBs"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Multiple AABBs"',children:'let stairs = Block::new("Stairs")\n    .id(41)\n    .aabbs(&[\n        AABB::new().scale_y(0.5).build(),\n        AABB::new()\n            .scale_x(0.5)\n            .scale_y(0.5)\n            .offset_y(0.5)\n            .build(),\n    ])\n    .build();\n'})}),"\n",(0,l.jsx)(n.h2,{id:"block-texturing",children:"Block Texturing"}),"\n",(0,l.jsx)(n.h3,{id:"server-side-texture-names",children:"Server-Side Texture Names"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Block Faces"',children:'let log = Block::new("Oak Log")\n    .id(50)\n    .faces(&[\n        Face::new("py").build(),  // Top\n        Face::new("ny").build(),  // Bottom\n        Face::new("px").build(),  // +X side\n        Face::new("nx").build(),  // -X side\n        Face::new("pz").build(),  // +Z side\n        Face::new("nz").build(),  // -Z side\n    ])\n    .build();\n'})}),"\n",(0,l.jsx)(n.h3,{id:"client-side-texturing",children:"Client-Side Texturing"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="Applying Textures"',children:'await world.applyBlockTexture("Oak Log", "py", "/textures/log_top.png");\nawait world.applyBlockTexture("Oak Log", "ny", "/textures/log_top.png");\nawait world.applyBlockTexture(\n  "Oak Log",\n  ["px", "nx", "pz", "nz"],\n  "/textures/log_side.png"\n);\n'})}),"\n",(0,l.jsx)(n.h2,{id:"block-entities",children:"Block Entities"}),"\n",(0,l.jsx)(n.p,{children:"Blocks can have associated entities for complex data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Block Entity"',children:'let sign = Block::new("Sign")\n    .id(60)\n    .is_entity(true)          // Creates entity when placed\n    .is_solid(false)\n    .build();\n'})}),"\n",(0,l.jsx)(n.p,{children:"The entity stores JSON data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="Block Entity Data"',children:'method.call("vox-builtin:update-block-entity", {\n  id: entityId,\n  json: JSON.stringify({ text: "Hello World" }),\n});\n'})}),"\n",(0,l.jsx)(n.h2,{id:"dynamic-blocks",children:"Dynamic Blocks"}),"\n",(0,l.jsx)(n.h3,{id:"active-blocks",children:"Active Blocks"}),"\n",(0,l.jsx)(n.p,{children:"Blocks that update each tick:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Active Block"',children:'let redstone = Block::new("Redstone Wire")\n    .id(70)\n    .is_active(true)\n    .active_fn(|world, vx, vy, vz| {\n        // Called each tick for this block\n        // Return updates to apply\n        vec![]\n    })\n    .build();\n'})}),"\n",(0,l.jsx)(n.h2,{id:"client-side-customization",children:"Client-Side Customization"}),"\n",(0,l.jsx)(n.h3,{id:"custom-shaders",children:"Custom Shaders"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="Custom Block Shader"',children:'world.customizeMaterialShaders(\n  "Grass",\n  null,\n  VOXELIZE.customShaders.sway({ rooted: true })\n);\n\nworld.customizeMaterialShaders("Water", VOXELIZE.customShaders.water(), null);\n'})}),"\n",(0,l.jsx)(n.h3,{id:"dynamic-textures",children:"Dynamic Textures"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-ts",metastring:'title="Dynamic Texture"',children:'const canvas = document.createElement("canvas");\ncanvas.width = 16;\ncanvas.height = 16;\nconst ctx = canvas.getContext("2d")!;\n\nfunction updateTexture() {\n  ctx.fillStyle = `hsl(${(Date.now() / 10) % 360}, 100%, 50%)`;\n  ctx.fillRect(0, 0, 16, 16);\n\n  world.applyBlockTextureByIdAt(blockId, "all", canvas, voxelPosition);\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"example-slab-variants",children:"Example: Slab Variants"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Slab Registration"',children:'fn register_slabs(registry: &mut Registry, base_id: u32, name: &str) {\n    let bottom_slab = Block::new(&format!("{} Slab Bottom", name))\n        .id(base_id)\n        .aabbs(&[AABB::new().scale_y(0.5).build()])\n        .build();\n\n    let top_slab = Block::new(&format!("{} Slab Top", name))\n        .id(base_id + 1)\n        .aabbs(&[AABB::new().scale_y(0.5).offset_y(0.5).build()])\n        .build();\n\n    registry.register_blocks(&[bottom_slab, top_slab]);\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"example-door-block",children:"Example: Door Block"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-rust",metastring:'title="Door Block"',children:'let door_bottom = Block::new("Door Bottom")\n    .id(80)\n    .rotatable(true)\n    .y_rotatable(true)\n    .aabbs(&[AABB::new().scale_z(0.2).build()])\n    .is_transparent(true)\n    .build();\n\nlet door_top = Block::new("Door Top")\n    .id(81)\n    .rotatable(true)\n    .y_rotatable(true)\n    .aabbs(&[AABB::new().scale_z(0.2).build()])\n    .is_transparent(true)\n    .build();\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Read on to learn about ",(0,l.jsx)(n.a,{href:"./typescript-transport",children:"TypeScript transport"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}}}]);