"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3390],{43023:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(63696);const r={},i=s.createContext(r);function a(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}},58571:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>x,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"blocks/block-textures","title":"Block Textures","description":"Apply textures to blocks on the client using images, colors, canvas, or animated sources. Blocks must be registered on the server first\u2014see Block Registry for server-side configuration.","source":"@site/docs/wiki/blocks/block-textures.md","sourceDirName":"blocks","slug":"/blocks/block-textures","permalink":"/wiki/blocks/block-textures","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Block Registry","permalink":"/wiki/blocks/block-registry"},"next":{"title":"Chunk Meshing","permalink":"/wiki/blocks/chunk-meshing"}}');var r=t(62540),i=t(43023);const a={sidebar_position:2},l="Block Textures",c={},o=[{value:"Two Texturing APIs",id:"two-texturing-apis",level:2},{value:"Standard Texturing",id:"standard-texturing",level:2},{value:"Multi-Face Blocks",id:"multi-face-blocks",level:3},{value:"Per-Instance Texturing (Isolated Faces)",id:"per-instance-texturing-isolated-faces",level:2},{value:"Example: Sign Renderer",id:"example-sign-renderer",level:3},{value:"Example: Picture Frame with Mixed Face Types",id:"example-picture-frame-with-mixed-face-types",level:3},{value:"Animated Textures",id:"animated-textures",level:2},{value:"GIF Animation",id:"gif-animation",level:3},{value:"Custom Keyframes",id:"custom-keyframes",level:3},{value:"Color Animation",id:"color-animation",level:3},{value:"Canvas Textures",id:"canvas-textures",level:2},{value:"Updating Canvas",id:"updating-canvas",level:3},{value:"Material Customization",id:"material-customization",level:2},{value:"Access Material",id:"access-material",level:3},{value:"Transparency",id:"transparency",level:3},{value:"Custom Shaders",id:"custom-shaders",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Related Pages",id:"related-pages",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"block-textures",children:"Block Textures"})}),"\n",(0,r.jsxs)(n.p,{children:["Apply textures to blocks on the client using images, colors, canvas, or animated sources. Blocks must be registered on the server first\u2014see ",(0,r.jsx)(n.a,{href:"/wiki/blocks/block-registry",children:"Block Registry"})," for server-side configuration."]}),"\n",(0,r.jsx)(n.h2,{id:"two-texturing-apis",children:"Two Texturing APIs"}),"\n",(0,r.jsx)(n.p,{children:"Voxelize provides two methods for applying textures:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Use Case"}),(0,r.jsx)(n.th,{children:"Face Type Required"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"applyBlockTexture"})}),(0,r.jsx)(n.td,{children:"Same texture on all instances"}),(0,r.jsx)(n.td,{children:"Standard or Independent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"applyBlockTextureAt"})}),(0,r.jsx)(n.td,{children:"Different texture per instance"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Isolated only"})})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"Understanding this distinction is critical\u2014using the wrong method will silently fail or produce unexpected results."}),"\n",(0,r.jsx)(n.h2,{id:"standard-texturing",children:"Standard Texturing"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"applyBlockTexture"})," for blocks where every instance looks identical:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Basic Usage"',children:'import * as VOXELIZE from "@voxelize/core";\nimport { Color } from "three";\n\n// Single face\nawait world.applyBlockTexture("Grass Block", "py", "/textures/grass_top.png");\n\n// Multiple faces\nawait world.applyBlockTexture(\n  "Stone",\n  ["px", "nx", "py", "ny", "pz", "nz"],\n  "/textures/stone.png"\n);\n\n// All faces with wildcard\nawait world.applyBlockTexture("Dirt", "*", "/textures/dirt.png");\n\n// Solid color\nworld.applyBlockTexture("Gold Block", "*", new Color("#FFD700"));\n\n// Batch multiple blocks\nawait world.applyBlockTextures([\n  { idOrName: "Dirt", faceNames: "*", source: "/textures/dirt.png" },\n  { idOrName: "Stone", faceNames: "*", source: "/textures/stone.png" },\n  { idOrName: "Sand", faceNames: "*", source: "/textures/sand.png" },\n]);\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Face names:"})," Standard blocks use ",(0,r.jsx)(n.code,{children:"px"}),", ",(0,r.jsx)(n.code,{children:"nx"}),", ",(0,r.jsx)(n.code,{children:"py"}),", ",(0,r.jsx)(n.code,{children:"ny"}),", ",(0,r.jsx)(n.code,{children:"pz"}),", ",(0,r.jsx)(n.code,{children:"nz"}),". Diagonal plants use ",(0,r.jsx)(n.code,{children:"one"})," and ",(0,r.jsx)(n.code,{children:"two"}),". Compound blocks use prefixed names like ",(0,r.jsx)(n.code,{children:"stem-px"}),", ",(0,r.jsx)(n.code,{children:"frame-py"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"multi-face-blocks",children:"Multi-Face Blocks"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Blocks with Different Textures per Face"',children:'// Grass block: different top, sides, and bottom\nawait world.applyBlockTexture("Grass Block", "py", "/textures/grass_top.png");\nawait world.applyBlockTexture("Grass Block", "ny", "/textures/dirt.png");\nawait world.applyBlockTexture(\n  "Grass Block",\n  ["px", "nx", "pz", "nz"],\n  "/textures/grass_side.png"\n);\n\n// Log: top/bottom rings, bark on sides\nawait world.applyBlockTexture(\n  "Oak Log",\n  ["py", "ny"],\n  "/textures/oak_log_top.png"\n);\nawait world.applyBlockTexture(\n  "Oak Log",\n  ["px", "nx", "pz", "nz"],\n  "/textures/oak_log_side.png"\n);\n'})}),"\n",(0,r.jsx)(n.h2,{id:"per-instance-texturing-isolated-faces",children:"Per-Instance Texturing (Isolated Faces)"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"applyBlockTextureAt"})," when each placed block shows different content\u2014signs with custom text, picture frames with different images, screens with unique displays."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Requirements:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The face must be marked ",(0,r.jsx)(n.code,{children:".isolated_at()"})," on the server"]}),"\n",(0,r.jsxs)(n.li,{children:["The block must have ",(0,r.jsx)(n.code,{children:".is_entity(true)"})," on the server"]}),"\n",(0,r.jsx)(n.li,{children:"You must specify the exact voxel position"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Per-Instance Texture"',children:'world.applyBlockTextureAt(\n  "Sign", // Block name\n  "pz", // Face name (must be isolated)\n  canvasTexture, // Your texture\n  [10, 5, 20] // Voxel position of this specific sign\n);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Calling ",(0,r.jsx)(n.code,{children:"applyBlockTexture"})," on an isolated face ",(0,r.jsx)(n.strong,{children:"silently skips it"}),"\u2014isolated faces can only be textured per-instance."]}),"\n",(0,r.jsx)(n.h3,{id:"example-sign-renderer",children:"Example: Sign Renderer"}),"\n",(0,r.jsx)(n.p,{children:"Signs store custom text as block entity metadata. When a sign is placed or updated, the client renders the text to a canvas and applies it to that specific sign:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Sign Entity Handler"',children:'import * as VOXELIZE from "@voxelize/core";\nimport * as THREE from "three";\n\ntype SignData = { type: "sign"; text: string; color?: string };\n\nclass SignRenderer {\n  private textures = new Map<string, THREE.CanvasTexture>();\n\n  constructor(private world: VOXELIZE.World) {\n    world.addBlockEntityUpdateListener(this.handleUpdate);\n  }\n\n  handleUpdate = (args: VOXELIZE.BlockEntityUpdateData<SignData>) => {\n    const { id, operation, newValue, voxel } = args;\n    if (newValue?.type !== "sign") return;\n\n    if (operation === "CREATE" || operation === "UPDATE") {\n      this.renderSign(id, voxel, newValue);\n    } else if (operation === "DELETE") {\n      this.disposeSign(id);\n    }\n  };\n\n  private renderSign(id: string, voxel: number[], data: SignData) {\n    this.disposeSign(id);\n\n    const canvas = document.createElement("canvas");\n    canvas.width = 256;\n    canvas.height = 128;\n    const ctx = canvas.getContext("2d")!;\n\n    ctx.fillStyle = "#8B4513";\n    ctx.fillRect(0, 0, 256, 128);\n    ctx.fillStyle = data.color || "#FFFFFF";\n    ctx.font = "bold 24px monospace";\n    ctx.textAlign = "center";\n    ctx.textBaseline = "middle";\n    ctx.fillText(data.text, 128, 64);\n\n    const texture = new THREE.CanvasTexture(canvas);\n    texture.magFilter = THREE.NearestFilter;\n    this.textures.set(id, texture);\n\n    this.world.applyBlockTextureAt(\n      "Sign",\n      "pz",\n      texture,\n      voxel as [number, number, number]\n    );\n  }\n\n  private disposeSign(id: string) {\n    this.textures.get(id)?.dispose();\n    this.textures.delete(id);\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-picture-frame-with-mixed-face-types",children:"Example: Picture Frame with Mixed Face Types"}),"\n",(0,r.jsx)(n.p,{children:"Picture frames combine standard faces (the wooden border) with an isolated face (the inner display):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Picture Frame Texturing"',children:'// All picture frames share the same wooden border texture (standard faces)\nworld.applyBlockTexture(\n  "Picture Frame 1x1",\n  "frame*",\n  "/textures/oak_planks.png"\n);\n\n// Each frame\'s inner display is set individually (isolated face)\nworld.applyBlockTextureAt(\n  "Picture Frame 1x1",\n  "innerpz", // The isolated inner face\n  userUploadedImage,\n  [10, 5, 20] // This specific frame\n);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/wiki/blocks/block-registry#face-texture-types",children:"Block Registry - Face Texture Types"})," for server-side configuration."]}),"\n",(0,r.jsx)(n.h2,{id:"animated-textures",children:"Animated Textures"}),"\n",(0,r.jsx)(n.h3,{id:"gif-animation",children:"GIF Animation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Lava Animation"',children:'await world.applyBlockGif(\n  "Lava",\n  ["px", "nx", "py", "ny", "pz", "nz"],\n  "/textures/lava.gif",\n  100 // Frame interval in ms\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"custom-keyframes",children:"Custom Keyframes"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Portal Animation"',children:'await world.applyBlockFrames(\n  "Portal",\n  ["px", "nx"],\n  [\n    [500, "/textures/portal_1.png"],\n    [500, "/textures/portal_2.png"],\n    [500, "/textures/portal_3.png"],\n  ],\n  10 // Fade frames between keyframes\n);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"color-animation",children:"Color Animation"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Beacon Pulse"',children:'import { Color } from "three";\n\nawait world.applyBlockFrames(\n  "Beacon",\n  "py",\n  [\n    [1000, new Color("#FF0000")],\n    [1000, new Color("#00FF00")],\n    [1000, new Color("#0000FF")],\n  ],\n  30 // Smooth fade\n);\n'})}),"\n",(0,r.jsx)(n.h2,{id:"canvas-textures",children:"Canvas Textures"}),"\n",(0,r.jsx)(n.p,{children:"Create textures programmatically:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Dynamic Canvas"',children:'import { CanvasTexture, NearestFilter, SRGBColorSpace } from "three";\n\nconst canvas = document.createElement("canvas");\ncanvas.width = 64;\ncanvas.height = 64;\nconst ctx = canvas.getContext("2d")!;\n\nctx.fillStyle = "#8B4513";\nctx.fillRect(0, 0, 64, 64);\nctx.fillStyle = "#FFFFFF";\nctx.font = "16px monospace";\nctx.textAlign = "center";\nctx.fillText("Hello", 32, 32);\n\nconst texture = new CanvasTexture(canvas);\ntexture.magFilter = NearestFilter;\ntexture.minFilter = NearestFilter;\ntexture.colorSpace = SRGBColorSpace;\n\n// For standard/independent faces\nworld.applyBlockTexture("Display", "pz", texture);\n\n// For isolated faces (per-instance)\nworld.applyBlockTextureAt("Sign", "pz", texture, [10, 5, 20]);\n'})}),"\n",(0,r.jsx)(n.h3,{id:"updating-canvas",children:"Updating Canvas"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Live Clock"',children:'function updateClock() {\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = "#000";\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = "#0F0";\n  ctx.fillText(new Date().toLocaleTimeString(), 32, 32);\n  texture.needsUpdate = true;\n}\n\nsetInterval(updateClock, 1000);\n'})}),"\n",(0,r.jsx)(n.h2,{id:"material-customization",children:"Material Customization"}),"\n",(0,r.jsx)(n.h3,{id:"access-material",children:"Access Material"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Get Material"',children:'const material = world.getBlockFaceMaterial("Water", "py");\n'})}),"\n",(0,r.jsx)(n.h3,{id:"transparency",children:"Transparency"}),"\n",(0,r.jsxs)(n.p,{children:["For blocks configured as ",(0,r.jsx)(n.code,{children:"is_see_through"})," on the server, Voxelize auto-sets ",(0,r.jsx)(n.code,{children:"transparent = true"})," and ",(0,r.jsx)(n.code,{children:"side = DoubleSide"}),". Override if needed:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Transparent Material"',children:'import * as THREE from "three";\n\nconst material = world.getBlockFaceMaterial("Water", "py");\nmaterial.transparent = true;\nmaterial.opacity = 0.7;\nmaterial.depthWrite = false; // Prevents z-fighting\nmaterial.side = THREE.DoubleSide;\n'})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Effect"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"transparent"})}),(0,r.jsx)(n.td,{children:"Enable alpha blending"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"opacity"})}),(0,r.jsx)(n.td,{children:"0 = invisible, 1 = opaque"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"depthWrite"})}),(0,r.jsxs)(n.td,{children:["Set ",(0,r.jsx)(n.code,{children:"false"})," for layered transparency"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"side"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"FrontSide"}),", ",(0,r.jsx)(n.code,{children:"BackSide"}),", or ",(0,r.jsx)(n.code,{children:"DoubleSide"})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"custom-shaders",children:"Custom Shaders"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Swaying Vegetation"',children:'import * as VOXELIZE from "@voxelize/core";\n\nworld.customizeMaterialShaders("Tall Grass", null, {\n  ...VOXELIZE.customShaders.sway({ rooted: true }),\n});\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",metastring:'title="Sway Options"',children:"VOXELIZE.customShaders.sway({\n  speed: 1, // Animation speed\n  amplitude: 0.1, // Sway distance\n  scale: 1, // Overall scale\n  rooted: true, // Bottom stays fixed\n  yScale: 1, // Y-axis influence\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:'Texture shows "?" pattern:'})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check block name matches server registration"}),"\n",(0,r.jsx)(n.li,{children:"Verify face name exists on block"}),"\n",(0,r.jsx)(n.li,{children:"Confirm image path is accessible"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Texture not appearing on isolated face:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Make sure you're using ",(0,r.jsx)(n.code,{children:"applyBlockTextureAt"}),", not ",(0,r.jsx)(n.code,{children:"applyBlockTexture"})]}),"\n",(0,r.jsxs)(n.li,{children:["Verify the face is marked ",(0,r.jsx)(n.code,{children:".isolated_at()"})," on the server"]}),"\n",(0,r.jsxs)(n.li,{children:["Verify the block has ",(0,r.jsx)(n.code,{children:".is_entity(true)"})," on the server"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Texture appears blurry:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"texture.magFilter = THREE.NearestFilter;\ntexture.minFilter = THREE.NearestFilter;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Canvas texture not updating:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"texture.needsUpdate = true;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Transparent blocks hide objects behind them:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"material.depthWrite = false;\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Can't see back side of transparent block:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"material.side = THREE.DoubleSide;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"related-pages",children:"Related Pages"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/wiki/blocks/block-registry",children:"Block Registry"})," - Server-side block configuration and face types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/wiki/blocks/custom-block-rendering",children:"Custom Block Rendering"})," - Block entity rendering patterns"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/wiki/blocks/chunk-meshing",children:"Chunk Meshing"})," - How blocks become geometry"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);