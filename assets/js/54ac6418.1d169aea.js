"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[3869],{2639:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"basics/create-the-client","title":"Create the Client","description":"The client connects to the server, joins a world, and renders it with ThreeJS.","source":"@site/docs/tutorials/basics/6-create-the-client.md","sourceDirName":"basics","slug":"/basics/create-the-client","permalink":"/tutorials/basics/create-the-client","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Chunk Generation","permalink":"/tutorials/basics/chunk-generation"},"next":{"title":"Handle the Network","permalink":"/tutorials/basics/handle-the-network"}}');var i=t(62540),s=t(43023);const a={sidebar_position:6},c="Create the Client",o={},l=[{value:"Voxelize and ThreeJS",id:"voxelize-and-threejs",level:2},{value:"Setup the Canvas",id:"setup-the-canvas",level:2},{value:"Create the World",id:"create-the-world",level:2},{value:"Setup ThreeJS",id:"setup-threejs",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"create-the-client",children:"Create the Client"})}),"\n",(0,i.jsx)(n.p,{children:"The client connects to the server, joins a world, and renders it with ThreeJS."}),"\n",(0,i.jsx)(n.mermaid,{value:'sequenceDiagram\n    participant Client\n    participant Server\n    participant World\n\n    Client->>Server: connect("http://localhost:4000")\n    Server--\x3e>Client: WebSocket opened\n    Client->>Server: join("tutorial")\n    Server->>World: Add client to world\n    World--\x3e>Client: INIT (config, registry, chunks)\n    Client->>Client: initialize() + start rendering'}),"\n",(0,i.jsx)(n.h2,{id:"voxelize-and-threejs",children:"Voxelize and ThreeJS"}),"\n",(0,i.jsxs)(n.p,{children:["Voxelize is built on ThreeJS. The ",(0,i.jsx)(n.code,{children:"World"})," extends ",(0,i.jsx)(n.code,{children:"Scene"}),", and controls move the ",(0,i.jsx)(n.code,{children:"Camera"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Resources to learn ThreeJS:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://threejs-journey.com/",children:"ThreeJS Journey"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://threejs.org/manual/#en/fundamentals",children:"Official ThreeJS Docs"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"setup-the-canvas",children:"Setup the Canvas"}),"\n",(0,i.jsxs)(n.p,{children:["The HTML is already in ",(0,i.jsx)(n.code,{children:"index.html"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",metastring:'title="index.html"',children:'<body>\n  <div id="app">\n    <canvas id="canvas"></canvas>\n  </div>\n  <script type="module" src="/main.js"><\/script>\n</body>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The CSS in ",(0,i.jsx)(n.code,{children:"style.css"})," makes it fullscreen:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",metastring:'title="style.css"',children:"html,\nbody {\n  height: 100%;\n  overflow: hidden;\n}\n\n#canvas {\n  width: 100%;\n  height: 100%;\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"create-the-world",children:"Create the World"}),"\n",(0,i.jsxs)(n.p,{children:["Open ",(0,i.jsx)(n.code,{children:"main.js"})," and add:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="main.js"',children:'import * as VOXELIZE from "@voxelize/core";\nimport * as THREE from "three";\n\nconst canvas = document.getElementById("canvas");\n\nconst world = new VOXELIZE.World({\n  textureUnitDimension: 16,\n});\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"textureUnitDimension: 16"})," sets higher resolution textures (default is 8)."]}),"\n",(0,i.jsx)(n.h2,{id:"setup-threejs",children:"Setup ThreeJS"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",metastring:'title="main.js"',children:'const camera = new THREE.PerspectiveCamera(\n  75,\n  window.innerWidth / window.innerHeight,\n  0.1,\n  3000\n);\n\nconst renderer = new THREE.WebGLRenderer({\n  antialias: true,\n  powerPreference: "high-performance",\n  canvas,\n});\nrenderer.setSize(window.innerWidth, window.innerHeight);\nrenderer.setPixelRatio(window.devicePixelRatio || 1);\nrenderer.outputColorSpace = THREE.SRGBColorSpace;\n\nwindow.addEventListener("resize", () => {\n  camera.aspect = window.innerWidth / window.innerHeight;\n  camera.updateProjectionMatrix();\n  renderer.setSize(window.innerWidth, window.innerHeight);\n});\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Voxelize uses SRGB color space, so set ",(0,i.jsx)(n.code,{children:"outputColorSpace"})," to match."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},43023:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>c});var r=t(63696);const i={},s=r.createContext(i);function a(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);